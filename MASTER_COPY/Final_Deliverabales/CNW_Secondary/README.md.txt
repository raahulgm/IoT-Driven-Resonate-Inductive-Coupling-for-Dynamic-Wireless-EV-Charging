20250405

------------------------------------------------------------------
Primary Author: Chandana R
Secondary Author[s]: Nanadakishore & Wazeem
Version: 0.1 [Initial Draft]
------------------------------------------------------------------
This folder contains the codes required for the main project
The contents of the folder are as follows

+---CNW_Secondary.ino
+---Read Me_Secondry

Note: To be viewed in full screen only, and zoom out to see clear view.
------------------------------------------------------------------
This code is for ESP32 for secondary coil


=====================================================================================================================================================================================================

Battery System

   +------------------------------------+
   |           +-------------+          |   
   |           |      |      |          |
   |        +-----+   |   +-----+    +-----+
   |        | [-] |   |   | [+] |    | [-] |
   |        |     |   |   |     |    |     |
   |        |     |   |   |     |    |     |    3.7 V / 5000 mAh Each
   |        |     |   |   |     |    |     |
   |        |     |   |   |     |    |     |
   |        |     |   |   |     |    |     |
   |        |     |   |   |     |    |     |
   |        | [+] |   |   | [-] |    | [+] |
   |        +-----+   |   +-----+    +-----+
   |           |      |      |          |
   |           |       \     +----------+
   |           |        \____      |
   |           \             |     \______
   |            |            |            |
   |     +------|------------|------------|-----------+
   |     |    |___|        |___|        |___|         |     +----------[-]   ->[B] [Gnd]
   |     |      B+           B2           B1       ___|     |
   |     |                                     P- |___|-----+
   |     |         BMS Module                      ___|             [ Battery_Port ] (can be used as input and output)
   |     |                                     P+ |___|-----+
   |     |                                ___         |     |
   |     |                            B- |   |        |     +----------[+]   ->[A] 
   |     +---------------------------------|----------+
   |                                       |
   +---------------------------------------|





	           	       +----------------------------------+
                               |_                                _|
		      [A]------|_|IN+                       OUT+|_|--------[E]
			  +    |  				  |       +         
			12V    |       Step-Down Converter        |      5V          
			  -    |_                                _|       -         
                      [B]------|_|IN-                       OUT-|_|--------[F]
			       |                                  |
			       +----------------------------------+
					


=====================================================================================================================================================================================================
Rx coil -> Rectifier -> Voltage Regulator -> 12V -> Coil

                                                                                                                 +--------------------------------[C]
                                                                                                                 |
                                 +-------------------------------------------------------------------------------|----------------+  
                                 |                                                                               |                |
                                 |                                                                               |                |   
                    ----->       |___                                                                            |                |      +----[+]  ->[A]
               +-----------------|__ |   _________________    +        ____________________________________  +   |              __|      |
               |                 |___|---|               |-------[+]---|                                  |------+---[Diode]---|__|------+
         Rx [ COIL ]     ~AC~    |       |   Rectifier   |   DC        |  12V (LM7812) Voltage Regulator  |           12V DC    __|      ------->  [ Battery_Port ]
               |                 |___  |-|_______________|-------[-]---|__________________________________|------+-------------|__|------+
               +-----------------|__ |_|                      -                                              -   |                |      |
                                 |___|                                                                           |                |      +----[-]   ->[B]
                                 |                               -------->                                       |                |
                                 +-------------------------------------------------------------------------------|----------------+
                                                                                                                 |
                                                                                                                 +--------------------------------[D]


         Flow-------------->-------------->-------------->-------------->-------------->-------------->------------->-------------->------------->

=====================================================================================================================================================================================================

Battery and coil percentage

                                                                 ||
								 ||
                               					 ||
                                                                 ||
                                                                 ||
                      [A]----+                                   ||               [C]----+                     
                             |                                   ||                      |
                             |                                   ||                      |
                             |                                   ||                      |
                             |                                   ||                      |
                             \                                   ||                      \
                             /                                   ||                      /
                             \                                   ||                      \
                             /                                   ||                      /
                             \    20K ohms (RESISTOR)            ||                      \     20K ohms (RESISTOR)
                             /                                   ||                      /
                             \                                   ||                      \
                             /                                   ||                      /
                             |                                   ||                      |
                             |                                   ||                      |
                             +----------------[D34]              ||                      +----------------[D35]
                             |                                   ||                      |
                             |                                   ||                      |
                             \                                   ||                      \
                             /                                   ||                      /
                             \                                   ||                      \
                             /                                   ||                      /
                             \    10K ohms (RESISTOR)            ||                      \    10K ohms (RESISTOR)
                             /                                   ||                      /
                             \                                   ||                      \
                             /                                   ||                      /
                             |                                   ||                      |
                             |                                   ||                      |
                             |                                   ||                      |
                             |                                   ||                      |
                      [B]----+                                   ||               [D]----+
                                                                 ||
                                                                 ||
                                                                 ||
    For Battery                                                  ||     For Coil
                                                                 ||


=====================================================================================================================================================================================================

ESP 32
DHT11
16 X 2 LCD Display
Pull Down switch


                                 +------------------------------------------------+
                                 |            |  ____   ____   ____  |            |   
                                 |            |  |  |___|  |___|  |  |            |
                                 |--EN        |__|________________|__|       D23--|
                                 |            |                      |            |
                                 |--VP        |                      |       D22--|----[SCL]
                                 |            |                      |            |
                                 |--VN        |                      |       TX0--|
                                 |            |         WiFi         |            |
                        [D34]----|--D34       |        ESP-32        |       RX0--|
                                 |            |                      |            |
                        [D34]----|--D35       |                      |       D21--|----[SDA]
                                 |            |                      |            |
                                 |--D32       |______________________|       D19--|
                                 |                                                |
                                 |--D33                                      D18--|
                                 |                                                |
                                 |--D25                                       D5--|----[D5]
                                 |                                                |
                                 |--D26                                      TX2--|
                                 |                                                |
                                 |--D27                                      RX2--|
                                 |                                                |
                                 |--D14                                       D4--|----[D4]
                                 |                                                |
                                 |--D12                                       D2--|
                                 |                                                |
                                 |--D13                                      D15--|
                                 |                                                |
                          [F]----|--GND                                      GND--|----[H]
                                 |                                                |
                          [E]----|--VIN                                      3V3--|----[G]
                                 |                                                |
                                 |                                                |
                                 |         EN        +--------+       BOOT        |
                                 |        | O |      |        |      | O |        |
                                 +------------------------------------------------+



DHT 11


                  +--------------------------+
                  |                          |
                  | +-----------+            |
                  | |=|=|=|=|=|=|       VDD  |----[G]
                  | |=|=|=|=|=|=|       GND  |----[H]
                  | |=|=|=|=|=|=|       DATA |----[D4]
                  | +-----------+            |
                  |                          |
                  +--------------------------+ 







16 X 2 LCD Display with I2C


                     +-------------------------------------------------------+
                     | +---------------------------------------------------+ |
                     | |  || || || || || || || || || || || || || || || ||  | |-----[SCL]
                     | |  || || || || || || || || || || || || || || || ||  | |-----[SDA]
                     | +---------------------------------------------------+ |-----[E]
                     | 16 x 2 LCD with I2C                                   |-----[F]
                     +-------------------------------------------------------+



Pull Down Switch

                                            |                            ___|___
                                            |
                       ___|___              |0->  Battery status Mode  --O     O--
                                            |
          [D5]---------O     O-------+      |
                                     |      |                            ___|___
                                   [GND]    |1-> Coil Status Mode      --O     O--
                                            |
                                            |


=====================================================================================================================================================================================================